

# 알쓸코잡

  

Manifest 란 무엇일까?

## 목차

* [사전적 의미](#사전적-의미)

* [프론트에서 의미](#프론트에서-의미)

* [어떤것이 가능한가](#어떤것이-가능한가)

* [어디서 사용하는가](#어디서-사용하는가)

* [Manifest Version 2 VS Version 3](#manifest-version-2-vs-version-3)

  

## 사전적 의미
> [목차](#목차)
  
  React 와 같은 프론트 라이브러리나 Vue와 같은 프레임워크를 사용해본적이 있다면 한번쯤 manifest 파일을 본적이 있을것이라 생각합니다.

사실상 웹페이지 개발하는데 수정이 불필요한 피일이기 때문에 관심을 가지지 않는 사람들이 많을것이라고 생각해요.

과연 이 파일이 무엇이며, 어떤 역할을 하는 것일까요?

일단 Manifest 단어 자체의 사전적 의미부터 알아볼까요?
> **매니페스트 파일**(manifest file)은  [컴퓨팅](https://ko.wikipedia.org/wiki/%EC%BB%B4%ED%93%A8%ED%8C%85 "컴퓨팅")에서 집합의 일부 또는 논리정연한 단위인 파일들의 그룹을 위한  [메타데이터](https://ko.wikipedia.org/wiki/%EB%A9%94%ED%83%80%EB%8D%B0%EC%9D%B4%ED%84%B0 "메타데이터")를 포함하는 파일이다. 예를 들어, 컴퓨터 프로그램의 파일들은 이름, 버전 번호, 라이선스, 프로그램의 구성 파일들을 가질 수 있다.
>
> 이 용어는  [화물 목록](https://ko.wikipedia.org/w/index.php?title=%ED%99%94%EB%AC%BC_%EB%AA%A9%EB%A1%9D&action=edit&redlink=1 "화물 목록 (없는 문서)")(ship manifest)이 선원 및 화물을 나열하는 화물 수송 절차로부터 가져온 것이다.
< **[위키백과 참고](https://ko.wikipedia.org/wiki/%EB%A7%A4%EB%8B%88%ED%8E%98%EC%8A%A4%ED%8A%B8_%ED%8C%8C%EC%9D%BC)** >

위 내용에서 알 수 있듯이 Manifest 파일은 컴퓨팅에서 파일들의 그룹을 위한 메타데이터를 포함하는 파일을 의미합니다.

## 프론트에서 의미
> [목차](#목차)

그러면 위 내용대로라면, 프론트에서 Manifest파일은 프론트개발에 사용되어지는 파일들의 그룹을 위한 메타데이터를 포함하는 파일이 되겠죠?

이렇게 설명해서는 이해가 안될것 같아서 기본적인 Mainifest 파일의 내용물을 가져와 봤습니다.

```json
{  
	"short_name": "React App",  
	"name": "Create React App Sample",  
	"icons": [    
		{      
			"src": "favicon.ico",      
			"sizes": "64x64 32x32 24x24 16x16",      
			"type": "image/x-icon"    
		},    
		{   
			"src": "logo192.png",      
			"type": "image/png",      
			"sizes": "192x192"    
		},    
		{      
			"src": "logo512.png",      
			"type": "image/png",     
			"sizes": "512x512"    
		}  
	],  
	"start_url": ".",  
	"display": "standalone",  
	"theme_color": "#000000",  
	"background_color": "#ffffff"
}
```
파일속 내용을 살펴보면, 해당 manifest 파일이 관리하는 서비스의 풀네임과 간략형 이름부터 각 상황에 필요한 다양한 사이즈의 아이콘 정보까지 담겨져 있는것을 볼 수 있습니다. 

이렇듯 우리가 만드는 서비스에서 사용되는 기타 정보들에 대한 내용들이 담겨져 있습니다.

## 어떤것이 가능한가
> [목차](#목차)
  
해당 매니페스트 및 관련된 기술을 잘 활용한다면 기존의 웹사이트만으로는 하지 못했던 영역의 작업까지 수행 가능한 다양한 웹서비스를 만들 수 있습니다.

우리가 살펴보고 있는 웹 매니페스트를 활용하면 앱스토어를 거치지 않고 장치의 홈 화면에 설치할 수 있는 웹사이트를 구성이 가능한데, 이는 단순한 홈 화면 링크/북마크를 통한 일반적인 웹 앱방식이 아니라 실제 앱과 같이 동작하는 방식으로 동작합니다.

이러한 이유로 해당 매니페스트를 **"웹앱 매니페스트"** 라고도 불립니다.

물론 위와같은 작업을 수행하기 위해서는 웹 매니페스트만 가지고는 불가능합니다. 이때 **"서비스워커"** (구 백그라운드 스크립트) 라는 기술이 사용이 되어집니다. 

처음에 예시로 들었던 웹앱을 만든다고 가정을 해볼까요?

디테일한 상황을 들어볼게요!
우리는 쇼핑몰을 만들고 있고, 네트워크 연결상태를 감지해서 연결이 끊어졌을시 웹사이트가 멈추는것이 아니라 오프라인에서 구매 혹은 장바구니등 네트워크를 이용하는 요청들을 일시적으로 모아두었다가 네트워크 연결시 순차적으로 처리하는 서비스를 만들고 싶다고 가정해보겠습니다.

이때 네트워크 상태를 감시하고 네트워크 연결이 끊어진 상황에서 특정 화면을 보여주도록 해주는 작업과 오프라인시 발생된 요청들을 저장해두었다가 네트워크 활성과 함께 순차적으로 처리해주는 작업은 **"서비스워커"** 가 도맡아 처리합니다.

사실상 백그라운드에서 작업하는 모든 일들은 **"서비스 워커"** 가 한다고 생각하시면 될것같아요.
 
이때, 웹 매니페스트는 이  네트워크 감시에 필요한 브라우저 API와 같이 **"서비스워커"** 가 접근가능한 **브라우저 API** 에 대하여 정의를 해주거나 서비스워커가 특정 화면을 구성하기 전에 **디폴트로 보여줄 화면**에 대한 정의를 하는등에 대한 작업을 해주고 있습니다.

## 어디서 사용하는가
> [목차](#목차)
  
웹앱 매니페스트는 현재 다양한 영역에서 사용되고 있습니다. 

가장 보편적으로 사용되는 곳은 아래와 같습니다.
* 브라우저 익스텐션 (예, 크롬익스텐션)
* 일렉트론 (데스크톱 앱)
* PWA (웹앱)

물론, 앞서서 말씀드린것처럼 위 세개 형태의 서비스를 만들때는 웹앱 매니페스트 뿐 아니라 서비스워커(백그라운드 스크립트)가 함께 사용이 되어집니다.
> 웹앱 매니페스트와 서비스워커는 대부분의 상황에서 하나의 셋트처럼 구성이 되어지기 때문에 함께 알아두시는것이 더욱 좋습니다.

## Manifest Version 2 VS Version 3
> [목차](#목차)

매니페스트는 1 ~ 3까지의 버전이 있습니다.

ver1 은 초창기 버전이기 때문에 설명을 생략하겠습니다.
현재는 ver2가 기본버전으로 자리잡고 있으며, 최근에 ver3 가 나오면서 더 다양한 브라우저 API 및 PWA와 같은 다양한 기술지원이 되었습니다.

대부분의 기존에 있던 기능에 대해서 ver2 와 ver3 간에 큰 차이점은 없
습니다. 대신에 ver2에서 사용되던 **백그라운드 스크립트,페이지** 는 v3에서 **서비스 워커** 라는 이름으로 변경이 되어졌으며 네트워크에 접근하는 브라우저API 와 관련해서도 보안및 편의기능이 추가된 새로운 API로 교체되었습니다.

ver3에서 추가된 새로운 기능에 대해서는 매니페스트에서는 다양한 접근권한을 설정할 수 있는 옵션이 생겼으며, 관련된 API들은 이전보다 사용이 편의하도록 개선이 이루어진것들이 많습니다. 

가장큰 변화는 앞서 말씀드린 서비스워커로 변경
<!--stackedit_data:
eyJoaXN0b3J5IjpbMzI2NjM1Nzc5LC0xMzQ2ODkzNjYsMjA0MD
g3OTczLC0zNjI5MDIzMzQsLTE0MDEwMDEwMzgsLTE4ODAzMTA3
OTYsNTg5MzU1ODg2LC0xNjQ1NzQ1NDQsNzA5ODYxNTY5LDU1Nj
E2NjYyNywtMTY3MzkwODQ5Ml19
-->